<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Security Meta Tags -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://generativelanguage.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' https://images.unsplash.com https://placehold.co data:; connect-src 'self' https://generativelanguage.googleapis.com; form-action 'self' https://formsubmit.co;">
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta name="referrer" content="strict-origin-when-cross-origin">

    <title>Helionenergies - India's Solar Marketplace & Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --primary-color: #2a9d8f; /* Teal Green */
            --secondary-color: #264653; /* Dark Blue/Green */
            --accent-color: #f4a261; /* Sandy Orange */
            --text-color: #333;
            --bg-color: #ffffff;
            --light-gray: #f8f9fa;
        }
        body { font-family: 'Inter', sans-serif; color: var(--text-color); background-color: var(--bg-color); }
        .font-logo { font-family: 'Lexend Deca', sans-serif; }
        .cta-button { background-color: var(--accent-color); transition: background-color 0.3s ease; }
        .cta-button:hover { background-color: #e76f51; }
        .primary-button { background-color: var(--primary-color); transition: background-color 0.3s ease; }
        .primary-button:hover { background-color: var(--secondary-color); }
        .modal-overlay { transition: opacity 0.3s ease; }
        .spinner { border: 4px solid rgba(0, 0, 0, 0.1); width: 24px; height: 24px; border-radius: 50%; border-left-color: var(--primary-color); animation: spin 1s ease infinite; display: none; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lexend+Deca:wght@700&display=swap" rel="stylesheet">
</head>
<body class="bg-white">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <a href="#" class="text-3xl font-bold font-logo" style="color: var(--primary-color);">Helionenergies</a>
            <ul class="hidden md:flex items-center space-x-8">
                <li><a href="#calculator" class="text-gray-700 hover:text-[var(--primary-color)] font-semibold">üí∞ Savings Calculator</a></li>
                <li><a href="#marketplace" class="text-gray-700 hover:text-[var(--primary-color)] font-semibold">üõçÔ∏è Marketplace</a></li>
                <li><a href="#about" class="text-gray-700 hover:text-[var(--primary-color)] font-semibold">About Us</a></li>
                <li><a href="#for-vendors" class="text-gray-700 hover:text-[var(--primary-color)] font-semibold">For Vendors</a></li>
                <li><a href="#contact" class="text-gray-700 hover:text-[var(--primary-color)] font-semibold">Contact</a></li>
            </ul>
            <a href="#marketplace" class="hidden md:block cta-button text-white font-bold py-2 px-6 rounded-lg">Browse Products</a>
        </nav>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="bg-cover bg-center text-white" style="background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1509391366360-2e959784a276?q=80&w=2070')">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center py-24 md:py-32">
                <h1 class="text-4xl md:text-6xl font-bold mb-4">India's Solar Marketplace.</h1>
                <p class="text-lg md:text-xl mb-8 max-w-3xl mx-auto">Calculate your savings, browse solar products, and connect with trusted local installers‚Äîall in one place.</p>
                <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
                    <a href="#calculator" class="cta-button text-white font-bold py-4 px-8 rounded-lg text-lg">üí∞ Calculate Your Savings</a>
                    <a href="#marketplace" class="primary-button text-white font-bold py-4 px-8 rounded-lg text-lg">üõçÔ∏è Browse Marketplace</a>
                </div>
            </div>
        </section>

        <!-- Savings Calculator Section -->
        <section id="calculator" class="py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-[var(--secondary-color)]">üí∞ Savings & System Size Calculator</h2>
                <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">Don't know what you need? Start here. Enter your electricity bill to get a quick, reliable estimate of the perfect system size for your home.</p>
                 <div class="max-w-xl mx-auto bg-white p-8 rounded-lg shadow-2xl">
                    <div class="grid grid-cols-1 gap-6">
                        <div>
                            <label for="monthly-bill" class="block text-sm font-medium text-gray-700">Average Monthly Electricity Bill (in ‚Çπ)</label>
                            <input type="number" id="monthly-bill" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)] sm:text-sm p-3" placeholder="e.g., 2500">
                        </div>
                        <div>
                            <label for="state-select" class="block text-sm font-medium text-gray-700">Select Your State/UT</label>
                            <select id="state-select" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)] sm:text-sm p-3"></select>
                        </div>
                        <div id="provider-section" class="hidden">
                            <label for="provider-select" class="block text-sm font-medium text-gray-700">Select Your Electricity Provider</label>
                            <select id="provider-select" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)] sm:text-sm p-3"></select>
                        </div>
                        <button id="calculate-savings-btn" class="w-full primary-button text-white font-bold py-3 px-4 rounded-md flex items-center justify-center">
                            Calculate My System Size
                        </button>
                    </div>
                </div>
                <div id="calculator-spinner" class="spinner"></div>
                <div id="calculator-results" class="mt-12 max-w-3xl mx-auto"></div>
            </div>
        </section>
        
        <!-- Solar Marketplace Section -->
        <section id="marketplace" class="py-24 bg-[var(--light-gray)]">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-[var(--secondary-color)]">üõçÔ∏è Solar Products Marketplace</h2>
                <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">Know what you need? Browse our curated selection of top-quality solar equipment.</p>
                
                <!-- Product Grid -->
                <div id="product-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Product cards will be dynamically inserted here -->
                </div>
            </div>
        </section>

        <!-- How It Works Section -->
        <section id="how-it-works" class="py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-16 text-[var(--secondary-color)]">Go Solar in 3 Simple Steps</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
                    <div class="flex flex-col items-center">
                        <div class="bg-[var(--primary-color)] text-white rounded-full w-20 h-20 flex items-center justify-center text-3xl font-bold mb-4">1</div>
                        <h3 class="text-xl font-bold mb-2 text-[var(--secondary-color)]">Calculate or Browse</h3>
                        <p class="text-gray-600">Use our calculator to find your ideal system size, or browse our marketplace to explore specific products.</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-[var(--primary-color)] text-white rounded-full w-20 h-20 flex items-center justify-center text-3xl font-bold mb-4">2</div>
                        <h3 class="text-xl font-bold mb-2 text-[var(--secondary-color)]">Request Free Quotes</h3>
                        <p class="text-gray-600">Once you know what you need, request quotes. We'll send your request to our network of verified local installers.</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-[var(--primary-color)] text-white rounded-full w-20 h-20 flex items-center justify-center text-3xl font-bold mb-4">3</div>
                        <h3 class="text-xl font-bold mb-2 text-[var(--secondary-color)]">Compare & Connect</h3>
                        <p class="text-gray-600">You'll receive competitive quotes from multiple installers, allowing you to choose the best option for your home and budget.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-24 bg-[var(--light-gray)]">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16 items-center">
                    <div class="md:order-2">
                        <h2 class="text-3xl md:text-4xl font-bold mb-4 text-[var(--secondary-color)]">Why Choose Helionenergies?</h2>
                        <div class="space-y-6 text-gray-600">
                            <p>Finding the right solar installer can be overwhelming. How do you know if you're getting a fair price? Who can you trust? Helionenergies was created to solve this problem.</p>
                            <p>We are a technology platform that simplifies the process of going solar. Instead of you spending weeks calling multiple vendors, our smart system does the work for you. We provide instant, anonymous quotes from our network of pre-verified local installers, so you can compare your options transparently.</p>
                            <p class="font-semibold text-[var(--secondary-color)]">Our mission is to empower you with clear, unbiased information, so you can save time, save money, and choose the right solar solution with complete confidence.</p>
                        </div>
                    </div>
                    <div class="md:order-1 flex items-center justify-center p-8">
                        <div class="text-center">
                             <svg class="w-auto h-24 mx-auto" viewBox="0 0 280 60" xmlns="http://www.w3.org/2000/svg">
                                <text x="0" y="45" font-family="'Lexend Deca', sans-serif" font-size="40" font-weight="bold" fill="var(--secondary-color)">
                                    Heli<tspan fill="var(--accent-color)">o</tspan>nenergies
                                </text>
                                <!-- Simple sun ray integrated into the 'o' -->
                                <path d="M 98 42 a 1 1 0 0 1 12 0 l -6 10 z" fill="var(--accent-color)" transform="rotate(45 100 40)"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- For Vendors Section -->
        <section id="for-vendors" class="py-24">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-4 text-[var(--secondary-color)]">Are You a Solar Installer or Supplier?</h2>
                <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto text-gray-600">Join the Helionenergies network to connect with qualified, local customers who are ready to install solar. Stop chasing leads and start closing deals.</p>
                <a href="#contact" class="cta-button text-white font-bold py-4 px-8 rounded-lg text-lg">Partner With Us</a>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-24 bg-[var(--light-gray)]">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-[var(--secondary-color)]">Get in Touch</h2>
                <p class="text-center text-gray-600 mb-12 max-w-2xl mx-auto">For customer support or vendor partnership inquiries, please fill out the form below or email us at <a href="mailto:helionenergies@outlook.com" class="text-[var(--primary-color)] font-semibold hover:underline">helionenergies@outlook.com</a>.</p>
                <div class="max-w-xl mx-auto bg-white p-8 rounded-lg shadow-2xl">
                    <form action="https://formsubmit.co/helionenergies@outlook.com" method="POST">
                        <div class="grid grid-cols-1 gap-6">
                            <input type="text" name="name" placeholder="Your Name" required class="block w-full rounded-md border-gray-300 shadow-sm focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)] sm:text-sm p-3">
                            <input type="email" name="email" placeholder="Your Email" required class="block w-full rounded-md border-gray-300 shadow-sm focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)] sm:text-sm p-3">
                            <textarea name="message" rows="5" placeholder="Your Message (e.g., 'I am an installer interested in partnership.')" required class="block w-full rounded-md border-gray-300 shadow-sm focus:border-[var(--primary-color)] focus:ring-[var(--primary-color)] sm:text-sm p-3"></textarea>
                            <input type="hidden" name="_subject" value="New Inquiry from Helionenergies Website!">
                            <input type="hidden" name="_next" value="https://helionenergiesindia.github.io/">
                            <button type="submit" class="w-full primary-button text-white font-bold py-3 px-4 rounded-md">Send Message</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Lead Capture Modal -->
    <div id="lead-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full space-y-4">
            <div class="flex justify-between items-center">
                <h3 class="text-2xl font-bold text-[var(--secondary-color)]">Get Quotes for this Product</h3>
                <button id="close-modal-btn" class="text-gray-400 hover:text-gray-600 text-3xl">&times;</button>
            </div>
            <p class="text-gray-600">To get quotes for <strong id="modal-product-name" class="text-[var(--primary-color)]"></strong>, please provide your details. We'll connect you with local installers.</p>
            <form id="lead-form" action="https://formsubmit.co/helionenergies@outlook.com" method="POST">
                <input type="hidden" name="_subject" id="lead-subject">
                <input type="hidden" name="_next" value="https://helionenergiesindia.github.io/?lead-success=true#marketplace">
                <div class="space-y-4">
                    <input type="text" name="name" placeholder="Your Name" required class="block w-full rounded-md border-gray-300 shadow-sm p-3">
                    <input type="email" name="email" placeholder="Your Email" required class="block w-full rounded-md border-gray-300 shadow-sm p-3">
                    <input type="tel" name="phone" placeholder="Your Phone Number" required class="block w-full rounded-md border-gray-300 shadow-sm p-3">
                    <input type="text" name="location" placeholder="Your City & State" required class="block w-full rounded-md border-gray-300 shadow-sm p-3">
                    <button type="submit" class="w-full primary-button text-white font-bold py-3 px-4 rounded-md">Get My Free Quotes</button>
                </div>
            </form>
        </div>
    </div>


    <!-- Footer -->
    <footer class="bg-[var(--secondary-color)] text-white text-center py-8">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <p>&copy; 2025 Helionenergies | All Rights Reserved</p>
            <p>Your Partner in Renewable Energy</p>
            <p class="mt-2"><a href="mailto:helionenergies@outlook.com" class="hover:text-[var(--accent-color)] transition-colors">helionenergies@outlook.com</a></p>
        </div>
    </footer>

    <script type="module">
        // --- SHARED FUNCTIONS ---
        function createAndAppend(tag, text, classes = [], parent) {
            const element = document.createElement(tag);
            if (text) element.textContent = text;
            if (classes.length > 0) element.classList.add(...classes);
            parent.appendChild(element);
            return element;
        }

        // --- SIMULATED AI RESPONSES (FOR RELIABILITY) ---
        function getSimulatedCalculation(bill, provider, state) {
            return new Promise(resolve => {
                setTimeout(() => {
                    const consumption = Math.round((bill / 7.5) * 1.1); // Simplified estimation
                    const systemSize = Math.ceil(consumption / 120); // 4 units/day/kW
                    const result = {
                        estimatedMonthlyConsumptionKwh: `${consumption - 20}-${consumption + 20} kWh`,
                        estimatedSystemSizeKw: `${systemSize} kW`,
                    };
                    resolve(result);
                }, 1500);
            });
        }

        // --- SAVINGS CALCULATOR ---
        const calculateBtn = document.getElementById('calculate-savings-btn');
        const billInput = document.getElementById('monthly-bill');
        const stateSelect = document.getElementById('state-select');
        const providerSection = document.getElementById('provider-section');
        const providerSelect = document.getElementById('provider-select');
        const calculatorResultsDiv = document.getElementById('calculator-results');
        const calculatorSpinner = document.getElementById('calculator-spinner');
        
        const providersByState = {
            "Andaman & Nicobar Islands": ["Electricity Department, Andaman & Nicobar"], "Andhra Pradesh": ["APEPDCL", "APSPDCL", "APCPDCL"], "Arunachal Pradesh": ["Department of Power, Arunachal Pradesh"], "Assam": ["Assam Power Distribution Company Ltd (APDCL)"], "Bihar": ["North Bihar Power Distribution Company Ltd (NBPDCL)", "South Bihar Power Distribution Company Ltd (SBPDCL)"], "Chandigarh": ["Electricity Department, Chandigarh"], "Chhattisgarh": ["Chhattisgarh State Power Distribution Co. Ltd (CSPDCL)"], "Dadra & Nagar Haveli and Daman & Diu": ["DNH Power Distribution Corporation Ltd"], "Delhi": ["Tata Power Delhi Distribution Ltd (TPDDL)", "BSES Rajdhani Power Ltd (BRPL)", "BSES Yamuna Power Ltd (BYPL)", "NDMC"], "Goa": ["Electricity Department, Goa"], "Gujarat": ["Dakshin Gujarat Vij Company Ltd (DGVCL)", "Madhya Gujarat Vij Company Ltd (MGVCL)", "Paschim Gujarat Vij Company Ltd (PGVCL)", "Uttar Gujarat Vij Company Ltd (UGVCL)", "Torrent Power (Ahmedabad/Surat)"], "Haryana": ["Dakshin Haryana Bijli Vitran Nigam (DHBVN)", "Uttar Haryana Bijli Vitran Nigam (UHBVN)"], "Himachal Pradesh": ["Himachal Pradesh State Electricity Board Ltd (HPSEBL)"], "Jammu & Kashmir": ["Jammu and Kashmir Power Development Department (JKPDD)"], "Jharkhand": ["Jharkhand Bijli Vitran Nigam Ltd (JBVNL)"], "Karnataka": ["Bangalore Electricity Supply Company Ltd (BESCOM)", "Chamundeshwari Electricity Supply Corporation Ltd (CESC)", "Gulbarga Electricity Supply Company Ltd (GESCOM)", "Hubli Electricity Supply Company Ltd (HESCOM)", "Mangalore Electricity Supply Company Ltd (MESCOM)"], "Kerala": ["Kerala State Electricity Board Ltd (KSEBL)"], "Ladakh": ["Power Development Department, Ladakh"], "Lakshadweep": ["Lakshadweep Electricity Department"], "Madhya Pradesh": ["MP Poorv Kshetra Vidyut Vitaran Co. Ltd (MPPKVVCL)", "MP Madhya Kshetra Vidyut Vitaran Co. Ltd (MPMKVVCL)", "MP Paschim Kshetra Vidyut Vitaran Co. Ltd (MPPKVVCL)"], "Maharashtra": ["Maharashtra State Electricity Distribution Co. Ltd (MSEDCL)", "Adani Electricity Mumbai Ltd", "Tata Power (Mumbai)", "Brihanmumbai Electric Supply and Transport (BEST)"], "Manipur": ["Manipur State Power Distribution Company Ltd (MSPDCL)"], "Meghalaya": ["Meghalaya Power Distribution Corporation Ltd (MePDCL)"], "Mizoram": ["Power & Electricity Department, Mizoram"], "Nagaland": ["Department of Power, Nagaland"], "Odisha": ["TP Central Odisha Distribution Ltd (TPCODL)", "TP Northern Odisha Distribution Ltd (TPNODL)", "TP Southern Odisha Distribution Ltd (TPSODL)", "TP Western Odisha Distribution Ltd (TPWODL)"], "Puducherry": ["Electricity Department, Puducherry"], "Punjab": ["Punjab State Power Corporation Ltd (PSPCL)"], "Rajasthan": ["Jaipur Vidyut Vitran Nigam Ltd (JVVNL)", "Ajmer Vidyut Vitran Nigam Ltd (AVVNL)", "Jodhpur Vidyut Vitran Nigam Ltd (JdVVNL)"], "Sikkim": ["Energy & Power Department, Sikkim"], "Tamil Nadu": ["Tamil Nadu Generation and Distribution Corporation Ltd (TANGEDCO)"], "Telangana": ["Northern Power Distribution Company of Telangana Ltd (TSNPDCL)", "Southern Power Distribution Company of Telangana Ltd (TSSPDCL)"], "Tripura": ["Tripura State Electricity Corporation Ltd (TSECL)"], "Uttar Pradesh": ["Dakshinanchal Vidyut Vitran Nigam Ltd (DVVNL)", "Madhyanchal Vidyut Vitran Nigam Ltd (MVVNL)", "Paschimanchal Vidyut Vitran Nigam Ltd (PVVNL)", "Purvanchal Vidyut Vitran Nigam Ltd (PuVVNL)", "Kanpur Electricity Supply Company (KESCO)"], "Uttarakhand": ["Uttarakhand Power Corporation Ltd (UPCL)"], "West Bengal": ["West Bengal State Electricity Distribution Company Ltd (WBSEDCL)", "CESC Limited (Kolkata)"]
        };

        function populateStateDropdown() {
            const states = Object.keys(providersByState);
            stateSelect.innerHTML = '<option value="">-- Select Your State --</option>';
            states.forEach(state => {
                const option = createAndAppend('option', state, [], stateSelect);
                option.value = state;
            });
        }

        stateSelect.addEventListener('change', () => {
            const selectedState = stateSelect.value;
            if (selectedState) {
                const providers = providersByState[selectedState];
                providerSelect.innerHTML = '';
                providers.forEach(provider => {
                    const option = createAndAppend('option', provider, [], providerSelect);
                    option.value = provider;
                });
                providerSection.classList.remove('hidden');
            } else {
                providerSection.classList.add('hidden');
            }
        });

        calculateBtn.addEventListener('click', async () => {
            const bill = billInput.value;
            const state = stateSelect.value;
            const provider = providerSelect.value;

            if (!bill || !state || !provider) {
                alert('Please fill all fields, including your state and provider.');
                return;
            }

            calculatorSpinner.style.display = 'block';
            calculatorResultsDiv.innerHTML = '';
            calculateBtn.disabled = true;
            calculateBtn.textContent = 'Calculating...';

            try {
                const result = await getSimulatedCalculation(bill, provider, state);
                displayCalculatorResults(result);
            } catch (error) {
                console.error('Calculation Error:', error);
                calculatorResultsDiv.innerHTML = `<p class="text-center text-red-500">Could not calculate savings at this time.</p>`;
            } finally {
                calculatorSpinner.style.display = 'none';
                calculateBtn.disabled = false;
                calculateBtn.textContent = 'Calculate My System Size';
            }
        });
        
        function displayCalculatorResults(data) {
            calculatorResultsDiv.innerHTML = '';
            const container = createAndAppend('div', null, ['bg-white', 'p-6', 'md:p-8', 'rounded-lg', 'shadow-lg', 'border-l-4', 'border-[var(--primary-color)]', 'text-center'], calculatorResultsDiv);
            createAndAppend('h3', 'Your Estimated System Size', ['text-2xl', 'font-bold', 'mb-4', 'text-[var(--secondary-color)]'], container);
            createAndAppend('p', `Based on your bill, you consume approx. ${data.estimatedMonthlyConsumptionKwh}.`, ['text-gray-600', 'mb-4'], container);
            createAndAppend('p', `We recommend a:`, ['text-lg'], container);
            createAndAppend('p', data.estimatedSystemSizeKw, ['text-5xl', 'font-bold', 'my-4', 'text-[var(--primary-color)]'], container);
            
            const ctaButton = createAndAppend('a', `üõçÔ∏è Browse ${data.estimatedSystemSizeKw} Systems in Marketplace`, ['cta-button', 'text-white', 'font-bold', 'py-3', 'px-6', 'rounded-lg', 'inline-block', 'mt-4'], container);
            ctaButton.href = "#marketplace";
        }


        // --- PRODUCT DATA & MARKETPLACE LOGIC ---
        const products = [
            { name: "Waaree 540W Bifacial Solar Panel", category: "Solar Panels", image: "https://placehold.co/600x400/2a9d8f/ffffff?text=Waaree+Panel", spec: "High-efficiency bifacial panels capture light from both sides." },
            { name: "Loom Solar 550W Mono PERC Panel", category: "Solar Panels", image: "https://placehold.co/600x400/2a9d8f/ffffff?text=Loom+Solar", spec: "Top-tier monocrystalline cells for excellent performance in low light." },
            { name: "Adani 530W Monocrystalline Panel", category: "Solar Panels", image: "https://placehold.co/600x400/2a9d8f/ffffff?text=Adani+Solar", spec: "Robust design with high power output, made in India." },
            { name: "SolarEdge 5kW String Inverter", category: "Inverters", image: "https://placehold.co/600x400/264653/ffffff?text=SolarEdge", spec: "Advanced string inverter with module-level monitoring and safety features." },
            { name: "Enphase IQ7+ Microinverter", category: "Inverters", image: "https://placehold.co/600x400/264653/ffffff?text=Enphase", spec: "Converts DC to AC at each panel, maximizing output and reliability." },
            { name: "Luminous 150Ah Solar Battery", category: "Batteries", image: "https://placehold.co/600x400/f4a261/ffffff?text=Luminous", spec: "Tall tubular battery designed for long life and deep cycle applications." },
        ];

        const productGrid = document.getElementById('product-grid');
        const leadModal = document.getElementById('lead-modal');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const modalProductName = document.getElementById('modal-product-name');
        const leadSubjectInput = document.getElementById('lead-subject');

        function renderProducts() {
            productGrid.innerHTML = '';
            products.forEach(product => {
                const card = createAndAppend('div', null, ['bg-white', 'rounded-lg', 'shadow-md', 'overflow-hidden', 'flex', 'flex-col'], productGrid);
                
                const img = createAndAppend('img', null, ['w-full', 'h-48', 'object-cover'], card);
                img.src = product.image;
                img.alt = product.name;

                const content = createAndAppend('div', null, ['p-6', 'flex-grow', 'flex', 'flex-col'], card);
                createAndAppend('h3', product.name, ['text-lg', 'font-bold', 'text-[var(--secondary-color)]', 'flex-grow'], content);
                createAndAppend('p', product.spec, ['text-sm', 'text-gray-600', 'mt-2', 'flex-grow'], content);
                
                const button = createAndAppend('button', 'Get Quote from Local Installers', ['mt-6', 'w-full', 'primary-button', 'text-white', 'font-bold', 'py-2', 'px-4', 'rounded-md'], content);
                button.dataset.product = product.name;
            });
        }

        productGrid.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON' && e.target.dataset.product) {
                const productName = e.target.dataset.product;
                modalProductName.textContent = productName;
                leadSubjectInput.value = `New Lead for ${productName} from Helionenergies!`;
                leadModal.classList.remove('hidden');
            }
        });

        closeModalBtn.addEventListener('click', () => { leadModal.classList.add('hidden'); });
        leadModal.addEventListener('click', (e) => {
            if (e.target === leadModal) { leadModal.classList.add('hidden'); }
        });

        document.addEventListener('DOMContentLoaded', () => {
             populateStateDropdown();
             renderProducts();
        });

    </script>

</body>
</html>
